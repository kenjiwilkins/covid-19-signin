(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{132:function(e,a,t){e.exports=t(177)},143:function(e,a,t){},177:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(13),c=t.n(l),i=t(57),o=t(33),s=t(88),u=t(105),m=t.n(u),d=t(11),h={user:{username:"",admin:!1,token:""}},p=Object(o.b)({user_state:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":var t={username:a.user.username,admin:a.user.admin,token:a.token};return Object(d.a)(Object(d.a)({},e),{},{user:t});case"LOGOUT":return{user:{username:"",admin:!1,token:""}};default:return e}}}),E={key:"root",storage:m.a,whitelist:["user_state"]},b=Object(s.a)(E,p),f=Object(o.c)(b,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),g=Object(s.b)(f),v=f,O=t(106),j=(t(143),t(53)),y=t(54),k=t(60),S=t(59),x=t(67),C=t(16),w=function(e,a){return{type:"LOGIN",user:e,token:a}},N=function(){return{type:"LOGOUT"}},D=t(217),T=t(209),W=t(218),P=t(210),q=t(178),A=t(219),B=t(64),F=t(236),M=t(107),_=t.n(M),I=t(18),Y=t.n(I),L=t(108),U=t.n(L),z=t(233),Q=Object(z.a)({TopPaper:{backgroundColor:"#3F51B5",color:"white",textAlign:"center"}}),R=function(e){var a=Q();return r.a.createElement(q.a,{className:a.TopPaper},r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(B.a,{variant:"h6"},"Your Restaurant"),r.a.createElement(B.a,{variant:"caption"},"according to COVID-19 Safe Checklist")))},G=t(211),H=t(212),K=t(213),V=t(241),X=t(23),J=t.n(X),Z=Object(z.a)({Grid:{textAlign:"center"},Icon:{fontSize:200,color:"green"}}),$=function(e){var a=Z();return r.a.createElement(P.a,{container:!0,spacing:2,justify:"center",className:a.Grid},r.a.createElement(P.a,{item:!0,xs:8},r.a.createElement(V.a,{className:a.Icon})),r.a.createElement(P.a,{item:!0,xs:8},r.a.createElement(B.a,{variant:"h6"},"SignIn Successful!")),e.user&&r.a.createElement(P.a,{item:!0,xs:8,container:!0,spacing:3},r.a.createElement(G.a,null,r.a.createElement(H.a,{key:"username"},r.a.createElement(K.a,{primary:"Your Name: ".concat(e.user.firstName," ").concat(e.user.lastName)})),r.a.createElement(H.a,{key:"email"},r.a.createElement(K.a,{primary:"Email: ".concat(e.user.email)})),r.a.createElement(H.a,{key:"time"},r.a.createElement(K.a,{primary:"Check in Time: ".concat(J()(e.user.checkInTime).format("DD/MM hh:mm:ss"))})))))},ee=t(8),ae=t(234),te=function(e){var a=r.a.useState(!1),t=Object(ee.a)(a,2),n=t[0],l=t[1],c=r.a.useState(!0),i=Object(ee.a)(c,2),o=i[0],s=i[1],u=function(a){n?0===a.target.value.length?s(!1):s(!0):(l(!0),s(!0)),e.handler(a.target.value)};return r.a.createElement(r.a.Fragment,null,e.value.length>0&&o||!n?r.a.createElement(ae.a,{required:!0,fullWidth:!0,id:e.input,placeholder:e.input,helperText:"requied",label:e.input,value:e.value,onChange:function(e){return u(e)}}):r.a.createElement(ae.a,{error:!0,required:!0,fullWidth:!0,id:e.input,placeholder:e.input,helperText:"requied",label:"".concat(e.input," required"),value:e.value,onChange:function(e){return u(e)}}))},ne=Object(z.a)({Paper:{paddingTop:"1em",paddingBottom:"1em"}}),re=function(e){var a=ne(),t=r.a.useState(!1),n=Object(ee.a)(t,2),l=n[0],c=n[1],i=r.a.useState(!0),o=Object(ee.a)(i,2),s=o[0],u=o[1],m=function(a){l?0===a.target.value.length?u(!1):u(!0):(c(!0),u(!0)),e.handler(a.target.value)};return r.a.createElement("div",{className:a.Paper},e.value.length>0&&s||!l?r.a.createElement(ae.a,{required:!0,fullWidth:!0,id:"email address",placeholder:"email address",helperText:"requied",label:"email address",type:"email",value:e.value,onChange:function(e){return m(e)}}):r.a.createElement(ae.a,{required:!0,fullWidth:!0,error:!0,id:"email address",placeholder:"email address",helperText:"invalid",label:"email address",type:"email",value:e.value,onChange:function(e){return m(e)}}))},le=Object(z.a)({Paper:{paddingTop:"1em",paddingBottom:"1em"}}),ce=function(e){var a=le(),t=r.a.useState(!1),n=Object(ee.a)(t,2),l=n[0],c=n[1],i=r.a.useState(!0),o=Object(ee.a)(i,2),s=o[0],u=o[1],m=function(a){l?0===a.target.value.length?u(!1):u(!0):(c(!0),u(!0)),e.handler(a.target.value)};return r.a.createElement("div",{className:a.Paper},e.value.length>0&&s||!l?r.a.createElement(ae.a,{required:!0,fullWidth:!0,id:"number",placeholder:"phone",helperText:"requied",label:"phone",type:"tel",value:e.value,onChange:function(e){return m(e)}}):r.a.createElement(ae.a,{required:!0,fullWidth:!0,error:!0,id:"number",placeholder:"phone",helperText:"required",label:"phone",type:"tel",value:e.value,onChange:function(e){return m(e)}}))},ie=t(216),oe=t(239),se=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{label:e.label,control:r.a.createElement(oe.a,{name:"correctness",value:e.value,onChange:function(a){return e.handler(a.target.value)}})}))},ue=Object(z.a)({Paper:{paddingTop:"1em",paddingBottom:"1em"}}),me=function(e){var a=ue(),t=r.a.useState(!1),n=Object(ee.a)(t,2),l=n[0],c=n[1],i=r.a.useState(!0),o=Object(ee.a)(i,2),s=o[0],u=o[1],m=function(a){l?0===a.target.value.length?u(!1):u(!0):(c(!0),u(!0)),e.handler(a.target.value)};return r.a.useEffect((function(){e.tableQuery&&e.tableQuery.exists&&e.handler(e.tableQuery.number)}),[e.tableQuery]),r.a.createElement("div",{className:a.Paper},e.tableQuery.exists?r.a.createElement(ae.a,{disabled:!0,fullWidth:!0,value:e.value,helperText:"prefilled",label:"table number"}):e.value&&s||!l?r.a.createElement(ae.a,{required:!0,fullWidth:!0,id:"table number",placeholder:"table number",helperText:"requied",label:"table number",type:"number",value:e.value,onChange:function(e){return m(e)}}):r.a.createElement(ae.a,{required:!0,fullWidth:!0,error:!0,id:"table number",placeholder:"table number",helperText:"required",label:"table number",type:"number",value:e.value,onChange:function(e){return m(e)}}))},de=function(e){Object(k.a)(t,e);var a=Object(S.a)(t);function t(e){var n;return Object(j.a)(this,t),(n=a.call(this,e)).handleFirstName=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{firstName:e})}))},n.handleLastName=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{lastName:e})}))},n.handleEmail=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{email:e})}))},n.handleNumber=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{number:e})}))},n.handleTableNumber=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{tableNumber:e})}))},n.handleCorrectnessChecked=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{correctnessChecked:e})}))},n.handleHealthChecked=function(e){n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{healthChecked:e})}))},n.handleSubmit=function(e){n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{status:"submitted"})}))},n.apiCall=function(e){Y.a.post("https://signin-demo.herokuapp.com/api/checkin",e).then((function(e){201===e.status&&n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{postSuccessful:!0,status:e.data.status,user:e.data.user})}))})).catch((function(e){n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{postError:!0,postErrorMessage:"Communication Error"})}))}))},n.sendData=function(){var e=[];if(0===n.state.firstName.length&&e.push("Please fill in your first name"),0===n.state.lastName.length&&e.push("Please fill in your last name"),n.state.email.length>0?_.a.validate(n.state.email)||e.push("Your email address is invalid"):e.push("Please fill in your email address"),0===n.state.number.length&&e.push("Please fill in your phone number"),n.state.correctnessChecked||e.push("Please declare the information is correct"),n.state.healthChecked||e.push("We cannot allow you to dine in if you're sick"),e.length>0)n.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{errors:e})}));else{var a={firstName:n.state.firstName,lastName:n.state.lastName,email:n.state.email,phoneNumber:n.state.number,tableNumber:n.state.tableNumber};n.setState((function(e){return Object(d.a)(Object(d.a)({},e),{},{status:"submit"})})),n.apiCall(a)}window.scrollTo(0,0)},n.state={firstName:"",lastName:"",email:"",number:"",tableNumber:"",status:"input",correctnessChecked:!1,healthChecked:!1,errors:[],postSuccessful:!1,postError:!1,postErrorMessage:"",tableQuery:{number:0,exists:!1},user:void 0},n}return Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=U.a.parse(this.props.location.search);1===Object.keys(e).length&&"table"===Object.keys(e)[0]&&this.setState({tableQuery:{number:e.table,exists:!0}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"submit"===this.state.status&&r.a.createElement(D.a,null),r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(W.a,{className:"topGrid"},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(R,null)),this.state.errors.length>0&&this.state.errors.map((function(e,a){return r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(F.a,{severity:"error"},e))})),this.state.postError&&r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(F.a,{severity:"error"},this.state.postErrorMessage)),this.state.postSuccessful?r.a.createElement($,{user:this.state.user}):r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(q.a,null,r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement("div",{className:"Paper"},r.a.createElement(te,{input:"first name",value:this.state.firstName,handler:this.handleFirstName}),r.a.createElement(te,{input:"last name",value:this.state.lastName,handler:this.handleLastName}))))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(q.a,null,r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(re,{value:this.state.email,handler:this.handleEmail})))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(q.a,null,r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(ce,{value:this.state.number,handler:this.handleNumber})))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(q.a,null,r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(me,{value:this.state.tableNumber,handler:this.handleTableNumber,tableQuery:this.state.tableQuery})))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(q.a,null,r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement("div",{className:"Paper"},r.a.createElement(se,{label:"I declare that the details above are correct and acurate",value:this.state.correctnessChecked,handler:this.handleCorrectnessChecked}),r.a.createElement(se,{label:"I am not currently suffering from any flu or COIVD-19 like symptoms",value:this.state.healthChecked,handler:this.handleHealthChecked}))))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return e.sendData()}},"Submit"))))),r.a.createElement(B.a,{variant:"caption",color:"textPrimary"},"Contact information is to be used only for the purposes of contact tracing."),r.a.createElement(B.a,{variant:"caption",color:"textSecondary"},"\xa9 Michael Kenji Wilkins 2020")))}}]),t}(r.a.Component),he=Object(C.g)(de),pe=Object(z.a)({Container:{paddingTop:"2em",paddingBottom:"2em"},Paper:{paddingTop:"2m",paddingBottom:"2em",textAlign:"center",alignItems:"center"},Avatar:{alignItems:"center"}}),Ee=Object(C.g)((function(e){var a=pe(),t=Object(n.useState)(""),l=Object(ee.a)(t,2),c=l[0],i=l[1],o=Object(n.useState)(""),s=Object(ee.a)(o,2),u=s[0],m=s[1],d=Object(n.useState)(!1),h=Object(ee.a)(d,2),p=h[0],E=h[1],b=Object(n.useState)(""),f=Object(ee.a)(b,2),g=f[0],v=f[1],O=function(){var a={username:c,password:u};Y.a.post("https://signin-demo.herokuapp.com/api/login",a).then((function(a){201===a.status&&(e.login(a.data.user,a.data.token),window.location.replace("/manage"))})).catch((function(e){e&&(E(!0),v("Your username or password does'nt match"))}))};return r.a.createElement(T.a,{maxWidth:"md",className:a.Container},r.a.createElement(q.a,{className:a.Paper},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"Login")),p&&r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(F.a,{severity:"error"},g)),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(T.a,{maxWidth:"sm"},r.a.createElement(ae.a,{value:c,onChange:function(e){return i(e.target.value)},fullWidth:!0,autoFocus:!0,placeholder:"username",label:"user name",type:"text",onKeyDown:function(e){"Enter"===e.key&&O()}}))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(T.a,{maxWidth:"sm"},r.a.createElement(ae.a,{value:u,onChange:function(e){return m(e.target.value)},fullWidth:!0,placeholder:"password",label:"password",type:"password",onKeyDown:function(e){"Enter"===e.key&&O()}}))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){return O()}},"Login")))))})),be=t(47),fe=t(224),ge=t(235),ve=t(225),Oe=t(214),je=t(215),ye=t(244),ke=t(238),Se=t(226),xe=t(227),Ce=t(228),we=t(229),Ne=t(230),De=t(231),Te=t(69),We=t(21),Pe=t(232),qe=t(240),Ae=t(220),Be=t(221),Fe=t(222),Me=t(223),_e=function(e){var a=Object(n.useState)([]),t=Object(ee.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(""),o=Object(ee.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(""),d=Object(ee.a)(m,2),h=d[0],p=d[1],E=Object(n.useState)(!1),b=Object(ee.a)(E,2),f=b[0],g=b[1],v=Object(n.useState)(!1),O=Object(ee.a)(v,2),j=O[0],y=O[1],k=Object(n.useState)(!0),S=Object(ee.a)(k,2),x=S[0],C=S[1],w=Object(n.useState)(""),N=Object(ee.a)(w,2),D=N[0],W=N[1],q=Object(n.useState)(!1),M=Object(ee.a)(q,2),_=M[0],I=M[1],L=Object(n.useState)(),U=Object(ee.a)(L,2),z=U[0],Q=U[1],R=function(){y(!1),u(""),p(""),g(!1)},V=function(){I(!1),Q(void 0)};return Object(n.useEffect)((function(){Y.a.get("https://signin-demo.herokuapp.com/api/getusers",{headers:{Authorization:"Bearer ".concat(e.user.token)}}).then((function(e){console.log(e.data),"failed"===e.data.message&&window.location.replace("/login"),c(e.data)})).catch((function(e){e&&(C(!1),W("Communication Failed"))}))}),[e.user.token]),r.a.createElement(T.a,{maxWidth:"xl"},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"Users Setting")),D.length>0&&r.a.createElement(P.a,{item:!0,xs:12},x?r.a.createElement(F.a,{severity:"success"},D):r.a.createElement(F.a,{severity:"error"},D)),r.a.createElement(qe.a,{open:_,onClose:function(){return V()}},r.a.createElement(Ae.a,null,"Delete User"),r.a.createElement(Be.a,null,z&&r.a.createElement(B.a,{variant:"h6"},"Are you sure delete user: ".concat(z.username,"?"))),r.a.createElement(Fe.a,null,r.a.createElement(A.a,{color:"secondary",onClick:function(){return V()}},"Cancel"),z&&r.a.createElement("div",null,r.a.createElement(A.a,{color:"primary",onClick:function(){return a=z._id,V(),void(e.user.admin&&Y.a.post("https://signin-demo.herokuapp.com/api/delete",{id:a},{headers:{Authorization:"Bearer ".concat(e.user.token)}}).then((function(a){201===a.status?(C(!0),W("Deletion Successful"),Y.a.get("https://signin-demo.herokuapp.com/api/getusers",{headers:{Authorization:"Bearer ".concat(e.user.token)}}).then((function(e){console.log(e.data),c(e.data)})).catch((function(e){e&&(C(!1),W("Communication Failed"))}))):(C(!1),W(a.data.message))})));var a}},"Delete")))),r.a.createElement(qe.a,{open:j,onClose:function(){return y(!1)}},r.a.createElement(Ae.a,null,"Add New User"),r.a.createElement(Be.a,null,r.a.createElement("div",null,r.a.createElement(ae.a,{required:!0,value:s,onChange:function(e){return u(e.target.value)},placeholder:"user name",label:"user name",type:"text"})),r.a.createElement("div",null,r.a.createElement(ae.a,{required:!0,value:h,onChange:function(e){return p(e.target.value)},placeholder:"password",label:"password",type:"password"})),r.a.createElement("div",null,r.a.createElement(ie.a,{control:r.a.createElement(oe.a,{checked:f,onChange:function(e){return g(e.target.checked)}}),label:"admin"}))),r.a.createElement(Fe.a,null,r.a.createElement(A.a,{color:"secondary",onClick:function(){return R()}},"Cancel"),r.a.createElement(A.a,{color:"primary",onClick:function(){return function(){var a={username:s,password:h,admin:f};R(),Y.a.post("https://signin-demo.herokuapp.com/api/register",a).then((function(a){if(201===a.status){if(!e.user.admin)return;C(!0),W("User Creation Successful"),Y.a.get("https://signin-demo.herokuapp.com/api/getusers",{headers:{Authorization:"Bearer ".concat(e.user.token)}}).then((function(e){c(e.data)})).catch((function(e){e&&(C(!1),W("Communication Failed"))}))}else C(!1),W(a.data.message)}))}()}},"Add"))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(G.a,null,e.user.admin&&r.a.createElement(H.a,null,r.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){return y(!0)}},"Add New User")),l.length>0?r.a.createElement("div",null,l.map((function(a){return r.a.createElement(H.a,{key:a._id},r.a.createElement(K.a,{primary:a.username,secondary:a.admin?"admin":""}),r.a.createElement(Me.a,null,e.user.admin&&r.a.createElement(A.a,{color:"secondary",onClick:function(){return function(e){I(!0),Q(e)}(a)}},"Delete")))}))):r.a.createElement(H.a,null,r.a.createElement(K.a,null,"loading..."))))))},Ie=t(63),Ye=t.n(Ie),Le=t(78),Ue=t(112),ze=(t(84),function(e){var a=Object(n.useState)(J()().startOf("day")),t=Object(ee.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(J()().endOf("day")),o=Object(ee.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)("Day"),d=Object(ee.a)(m,2),h=d[0],p=d[1],E=Object(n.useState)(!1),b=Object(ee.a)(E,2),f=b[0],g=b[1],v=Object(n.useState)(""),O=Object(ee.a)(v,2),j=O[0],y=O[1],k=function(e){c(J()(e).startOf("day"))},S=function(){var a=Object(Le.a)(Ye.a.mark((function a(){var t,n;return Ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={filename:J()(l).format("DD/MM/YYYY"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:J()(l).format("DD/MM/YYYY"),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},n={startDate:l,endDate:s,period:h},a.next=4,Y.a.post("https://signin-demo.herokuapp.com/api/download",n,{headers:{Authorization:"Bearer ".concat(e.user.token)}}).then((function(e){new Ue.ExportToCsv(t).generateCsv(e.data)})).catch((function(e){e&&(g(!0),y("Oops Something Went Wrong!"))}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(T.a,{maxWidth:"xl",className:"Paper"},r.a.createElement(P.a,{container:!0,spacing:3,justify:"center"},f&&r.a.createElement(P.a,{item:!0,xs:11},r.a.createElement(F.a,{severity:"error"},j)),r.a.createElement(P.a,{item:!0,xs:11,container:!0,spacing:3},r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(B.a,{variant:"h6"},"Download User Data")),r.a.createElement(P.a,{item:!0,xs:6},r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,"Download Period"),r.a.createElement(ye.a,{value:h,onChange:function(e){p(e.target.value),"Day"===e.target.value?(c(J()().startOf("day").format()),u(J()(l).endOf("day").format())):(c(J()(l).startOf("month").format()),u(J()(l).endOf("month").format()))}},r.a.createElement(ie.a,{value:"Day",label:"Day",control:r.a.createElement(ke.a,null)}),r.a.createElement(ie.a,{value:"Month",label:"Month",control:r.a.createElement(ke.a,null)})))),r.a.createElement(P.a,{item:!0,xs:6},"Day"===h&&r.a.createElement("div",null,r.a.createElement(We.a,{utils:Te.a},r.a.createElement(Pe.a,{margin:"normal",label:"Date Select",value:l,onChange:k}))),"Month"===h&&r.a.createElement("div",null,r.a.createElement(We.a,{utils:Te.a},r.a.createElement(Pe.a,{margin:"normal",views:["year","month"],label:"Month Select",minDate:new Date("2020-01-01"),maxDate:new Date,value:l,onChange:k})))),r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(A.a,{color:"primary",onClick:function(){return S()}},"download")))))}),Qe=function(e){Object(k.a)(t,e);var a=Object(S.a)(t);function t(e){var n;return Object(j.a)(this,t),(n=a.call(this,e)).state={data:void 0,date:new Date,selectedTime:void 0,tab:0,radio:"none",openingHours:[],isError:!1,message:""},n.handleTab=n.handleTab.bind(Object(be.a)(n)),n.handleDate=n.handleDate.bind(Object(be.a)(n)),n.handleRadio=n.handleRadio.bind(Object(be.a)(n)),n.handleError=n.handleError.bind(Object(be.a)(n)),n.getData=n.getData.bind(Object(be.a)(n)),n}return Object(y.a)(t,[{key:"handleTab",value:function(e,a){this.setState({tab:a})}},{key:"handleDate",value:function(e){this.setState({date:e})}},{key:"handleRadio",value:function(e){this.setState({radio:e.target.value})}},{key:"handleError",value:function(e){this.setState((function(a){return Object(d.a)(Object(d.a)({},a),{},{isError:!0,message:e})}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;"none"===this.state.radio?Y.a.get("https://signin-demo.herokuapp.com/api/getlist",{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(a){"failed"===a.data.message&&window.location.replace("/login"),e.setState({data:a.data})})).catch((function(a){a&&e.handleError("Communication Error")})):"allday"===this.state.radio?Y.a.get("https://signin-demo.herokuapp.com/api/getlist/bydate?date=".concat(this.state.date),{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(a){"failed"===a.data.message&&window.location.replace("/login"),e.setState({data:a.data})})).catch((function(a){a&&e.handleError("Communication Error")})):"lunch"===this.state.radio?Y.a.get("https://signin-demo.herokuapp.com/api/getlist/bylunch?date=".concat(this.state.date),{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(a){"failed"===a.data.message&&window.location.replace("/login"),e.setState({data:a.data})})).catch((function(a){a&&e.handleError("Communication Error")})):"dinner"===this.state.radio&&Y.a.get("https://signin-demo.herokuapp.com/api/getlist/bydinner?date=".concat(this.state.date),{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(a){"failed"===a.data.message&&window.location.replace("/login"),e.setState({data:a.data})})).catch((function(a){a&&e.handleError("Communication Error")}))}},{key:"componentDidUpdate",value:function(e,a){"allday"!==this.state.radio||a.date===this.state.date?a.radio!==this.state.radio&&this.getData():this.getData()}},{key:"render",value:function(){return r.a.createElement(T.a,{maxWidth:"lg"},r.a.createElement(fe.a,{position:"static"},r.a.createElement(ge.a,{value:this.state.tab,onChange:this.handleTab},r.a.createElement(ve.a,{label:"Signin List"}),r.a.createElement(ve.a,{label:"Users Setting"}),r.a.createElement(ve.a,{label:"Utilities"}))),0===this.state.tab&&r.a.createElement(q.a,{square:!0,className:"Paper"},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(We.a,{utils:Te.a},this.state.isError&&r.a.createElement(P.a,{item:!0,xs:12},r.a.createElement(F.a,{severity:"error"},this.state.message)),r.a.createElement(P.a,{item:!0,xs:12,container:!0,justify:"center",spacing:3},r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,"First 100"),r.a.createElement(ye.a,{value:this.state.radio,onChange:this.handleRadio},r.a.createElement(ie.a,{value:"none",label:"first 100",control:r.a.createElement(ke.a,null)})))),r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,"Search by Date"),r.a.createElement(ye.a,{value:this.state.radio,onChange:this.handleRadio},r.a.createElement(ie.a,{value:"allday",label:"all day",control:r.a.createElement(ke.a,null)})),"none"===this.state.radio?r.a.createElement(Pe.a,{disabled:!0,margin:"normal",label:"Search for",value:this.state.date}):r.a.createElement(Pe.a,{label:"Search for",margin:"normal",value:this.state.date,onChange:this.handleDate}))),r.a.createElement(P.a,{item:!0,xs:3},r.a.createElement(Oe.a,null,r.a.createElement(je.a,null,"Filter"),r.a.createElement(ye.a,{value:this.state.radio,onChange:this.handleRadio},r.a.createElement(ie.a,{value:"lunch",label:"lunch",control:r.a.createElement(ke.a,null)}),r.a.createElement(ie.a,{value:"dinner",label:"dinner",control:r.a.createElement(ke.a,null)}))))))),r.a.createElement(P.a,{container:!0,spacing:3,justify:"center"},this.state.data&&r.a.createElement(P.a,{item:!0,xs:11},r.a.createElement(Se.a,null,r.a.createElement(xe.a,null,r.a.createElement(Ce.a,null,r.a.createElement(we.a,null,r.a.createElement(Ne.a,null,"Date/Time"),r.a.createElement(Ne.a,{align:"right"},"first name"),r.a.createElement(Ne.a,{align:"right"},"last name"),r.a.createElement(Ne.a,{align:"right"},"email"),r.a.createElement(Ne.a,{align:"right"},"phone no."),r.a.createElement(Ne.a,{align:"right"},"table no."))),r.a.createElement(De.a,null,this.state.data.map((function(e,a){return r.a.createElement(we.a,{key:a},r.a.createElement(Ne.a,null,J()(e.checkInTime).format("DD/MM/YYYY hh:mm:ss")),r.a.createElement(Ne.a,{align:"right"},e.firstName),r.a.createElement(Ne.a,{align:"right"},e.lastName),r.a.createElement(Ne.a,{align:"right"},e.email),r.a.createElement(Ne.a,{align:"right"},e.phoneNumber),r.a.createElement(Ne.a,{align:"right"},e.tableNumber))})))))))),1===this.state.tab&&r.a.createElement(q.a,{square:!0,className:"Paper"},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(_e,this.props))),2===this.state.tab&&r.a.createElement(q.a,{square:!0,className:"Paper"},r.a.createElement(P.a,{container:!0,spacing:3},r.a.createElement(ze,this.props))))}}]),t}(r.a.Component),Re={login:w,logout:N},Ge=Object(i.b)((function(e){return{user:e.user_state.user}}),Re)(Qe),He=function(){return r.a.createElement(T.a,{maxWidth:"md"},r.a.createElement(P.a,{container:!0,spacing:3,justify:"center"},r.a.createElement(P.a,{item:!0,xs:8},r.a.createElement(B.a,{variant:"h6"},"404 Not Found Sorry"))))},Ke=t(113),Ve=function(e){var a=e.Component,t=Object(Ke.a)(e,["Component"]),n=r.a.useState(!1),l=Object(ee.a)(n,2),c=l[0],i=l[1];return r.a.useEffect(Object(Le.a)(Ye.a.mark((function e(){return Ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Y.a.get("https://signin-demo.herokuapp.com/api/auth",{headers:{Authorization:"Bearer ".concat(t.user.token)}}).then((function(e){"Auth Successful"===e.data.message?i(!0):window.location.replace("/login")})).catch((function(e){t.logout(),window.location.replace("/login")}))}catch(a){t.logout(),window.location.replace("/login")}case 1:case"end":return e.stop()}}),e)}))),[]),r.a.createElement("div",null,c?r.a.createElement(C.b,Object.assign({},t,{render:function(e){return e?r.a.createElement(a,e):r.a.createElement(C.a,{to:{pathname:"/login",state:{from:e.location}}})}})):r.a.createElement(D.a,null))},Xe=function(e){Object(k.a)(t,e);var a=Object(S.a)(t);function t(){return Object(j.a)(this,t),a.apply(this,arguments)}return Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x.a,null,r.a.createElement(C.d,null,r.a.createElement(C.b,{path:"/login",exact:!0},r.a.createElement(Ee,this.props)),r.a.createElement(Ve,Object.assign({path:"/manage",component:Ge},this.props)),r.a.createElement(C.b,{path:"/",exact:!0},r.a.createElement(he,this.props)),r.a.createElement(C.b,null,r.a.createElement(He,null)))))}}]),t}(r.a.Component),Je={login:w,logout:N},Ze=Object(i.b)((function(e){return{user:e.user_state.user}}),Je)(Xe),$e=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,245)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,l=a.getLCP,c=a.getTTFB;t(e),n(e),r(e),l(e),c(e)}))};c.a.render(r.a.createElement(i.a,{store:v},r.a.createElement(O.a,{loading:null,persistor:g},r.a.createElement(Ze,null))),document.getElementById("root")),$e()},84:function(e,a,t){}},[[132,1,2]]]);
//# sourceMappingURL=main.efe9fbdc.chunk.js.map